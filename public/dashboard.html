<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Console | Waybe Ecosystem</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script> tailwind.config = { darkMode: 'class' } </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap');
        body { font-family: 'Outfit', sans-serif; }
        
        .nebula-bg {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -50;
            background: #0f001e;
            background-image: radial-gradient(circle at 20% 50%, rgba(168, 85, 247, 0.4) 0%, transparent 50%), radial-gradient(circle at 80% 30%, rgba(236, 72, 153, 0.35) 0%, transparent 50%);
        }
        .dash-glass {
            background: rgba(20, 10, 45, 0.85); backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }
        .login-overlay {
            background: rgba(15, 0, 30, 0.98); backdrop-filter: blur(30px); z-index: 100;
        }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f001e; }
        ::-webkit-scrollbar-thumb { background: #9333ea; border-radius: 10px; }
    </style>
</head>
<body class="text-white overflow-hidden h-screen flex relative">

    <div id="auth-lock" class="login-overlay fixed inset-0 flex items-center justify-center p-4">
        <div class="w-full max-w-md bg-[#0f0520] border border-purple-500/30 p-8 rounded-3xl shadow-2xl relative">
            <div class="text-center mb-8">
                <div class="w-16 h-16 bg-purple-900/50 rounded-full flex items-center justify-center mx-auto mb-4 border border-purple-500/50"><i class="fa-solid fa-lock text-2xl text-purple-300"></i></div>
                <h2 class="text-3xl font-bold">Member Login</h2>
                <p class="text-slate-400 text-sm mt-2">Enter email to receive One-Time Password.</p>
            </div>
            <div id="step-email">
                <input type="email" id="login-email" placeholder="name@example.com" class="w-full bg-black/30 border border-white/10 rounded-xl px-4 py-3 mb-4 focus:border-purple-500 outline-none text-white">
                <button onclick="sendOTP()" class="w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition shadow-lg">Send Code via Email</button>
            </div>
            <div id="step-otp" class="hidden">
                <p class="text-sm text-center text-green-400 mb-4">Code sent! Check your inbox.</p>
                <div class="flex gap-2 justify-center mb-6">
                    <input type="text" maxlength="6" id="otp-code" class="w-full text-center text-2xl font-bold bg-black/30 border border-white/20 rounded-lg py-2 focus:border-purple-500 outline-none tracking-widest" placeholder="123456">
                </div>
                <button onclick="verifyOTP()" class="w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 rounded-xl transition shadow-lg">Verify & Access</button>
            </div>
        </div>
    </div>

    <div class="nebula-bg"></div>

    <aside class="w-64 h-full dash-glass border-r border-white/10 flex flex-col hidden md:flex z-20">
        <div class="p-6 border-b border-white/10">
            <div class="text-2xl font-extrabold flex items-center tracking-tighter text-white">
                <i class="fa-brands fa-hive text-purple-400 mr-3"></i> waybe.in
            </div>
        </div>
        <nav class="flex-1 px-4 space-y-2 mt-4">
            <button onclick="switchTab('overview')" id="nav-overview" class="w-full flex items-center p-3 rounded-xl bg-purple-600/30 text-purple-200 font-bold border border-purple-500/50"><i class="fa-solid fa-id-card w-6 mr-2"></i> Account</button>
            <button onclick="switchTab('themes')" id="nav-themes" class="w-full flex items-center p-3 rounded-xl hover:bg-white/10 text-slate-300 hover:text-white transition"><i class="fa-solid fa-layer-group w-6 mr-2"></i> Products</button>
            <button onclick="switchTab('domains')" id="nav-domains" class="w-full flex items-center p-3 rounded-xl hover:bg-white/10 text-slate-300 hover:text-white transition"><i class="fa-solid fa-globe w-6 mr-2"></i> Domains</button>
        </nav>
        <div class="p-4 border-t border-white/10">
            <a href="index.html" class="flex items-center text-slate-400 hover:text-red-400 text-sm font-bold"><i class="fa-solid fa-power-off mr-2"></i> Sign Out</a>
        </div>
    </aside>

    <main class="flex-1 h-full overflow-y-auto relative">
        <header class="w-full p-6 flex justify-between items-center sticky top-0 z-30 backdrop-blur-md bg-[#0f001e]/80 border-b border-white/10">
            <div class="md:hidden font-bold text-xl"><i class="fa-brands fa-hive text-purple-500"></i> Waybe</div>
            <div class="flex items-center gap-4 ml-auto">
                <div class="text-right hidden md:block">
                    <h4 class="font-bold text-sm text-white" id="header-username">Guest</h4>
                    <p class="text-xs text-purple-400">Online <span class="w-2 h-2 bg-green-500 rounded-full inline-block ml-1"></span></p>
                </div>
                <img id="header-avatar" src="https://ui-avatars.com/api/?name=Guest" class="w-10 h-10 rounded-full border-2 border-purple-500/50">
            </div>
        </header>

        <div class="p-6 md:p-10 max-w-6xl mx-auto space-y-8">

            <div id="view-overview" class="space-y-8">
                <h2 class="text-3xl font-bold mb-6 text-white">Account Overview</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2 dash-glass p-8 rounded-3xl relative overflow-hidden">
                        <div class="flex flex-col md:flex-row gap-6 items-center md:items-start relative z-10">
                            <div class="w-24 h-24 rounded-full border-4 border-purple-500 p-1">
                                <img id="profile-pic" src="https://ui-avatars.com/api/?name=Guest" class="w-full h-full rounded-full object-cover">
                            </div>
                            <div class="text-center md:text-left">
                                <h3 class="text-2xl font-bold text-white" id="display-name">Guest User</h3>
                                <p class="text-purple-300 mb-2" id="display-email">Waiting for login...</p>
                                <div class="inline-flex items-center gap-2 bg-black/30 px-3 py-1 rounded-full border border-white/10 text-xs text-slate-400">
                                    <i class="fa-solid fa-fingerprint"></i> ID: <span class="font-mono text-white">WB-8829-X</span>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 border-t border-white/10 pt-6">
                            <div><p class="text-slate-500 text-xs uppercase font-bold">Account Type</p><p class="text-white font-bold"><i class="fa-solid fa-briefcase text-purple-500 mr-2"></i> Business</p></div>
                            <div><p class="text-slate-500 text-xs uppercase font-bold">Location</p><p class="text-white font-bold" id="user-location"><i class="fa-solid fa-satellite-dish text-red-500 mr-2"></i> Detecting...</p></div>
                            <div><p class="text-slate-500 text-xs uppercase font-bold">Joined On</p><p class="text-white font-bold" id="join-date">...</p></div>
                        </div>
                    </div>

                    <div class="dash-glass p-6 rounded-3xl flex flex-col justify-between border-t-4 border-yellow-500">
                        <div>
                            <div class="flex justify-between items-start mb-4">
                                <div><p class="text-xs text-yellow-500 font-bold uppercase tracking-wider">Plan</p><h3 class="text-2xl font-bold text-white">Super Premium</h3></div>
                                <i class="fa-solid fa-crown text-3xl text-yellow-500 drop-shadow-lg"></i>
                            </div>
                            <div class="space-y-3 mb-6">
                                <div class="flex justify-between text-sm"><span class="text-slate-400">Start Date</span><span class="font-mono text-white" id="sub-start">...</span></div>
                                <div class="flex justify-between text-sm"><span class="text-slate-400">Renews On</span><span class="font-mono text-white" id="sub-end">...</span></div>
                                <div class="w-full bg-slate-800 h-2 rounded-full mt-2"><div class="bg-yellow-500 h-2 rounded-full w-[2%]"></div></div>
                                <p class="text-xs text-center text-slate-500 mt-1">364 Days Remaining</p>
                            </div>
                        </div>
                        <button class="w-full py-2 rounded-lg border border-white/10 hover:bg-white/5 text-sm font-bold text-white">Manage Billing</button>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="dash-glass p-8 rounded-3xl">
                        <h3 class="text-lg font-bold mb-6 text-white"><i class="fa-solid fa-link mr-2 text-blue-400"></i> Linked Accounts</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-3 bg-white/5 rounded-xl border border-white/5">
                                <div class="flex items-center gap-3"><div class="w-8 h-8 bg-white rounded-full flex items-center justify-center"><img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" class="w-5"></div><div><p class="font-bold text-sm text-white">Google</p><p class="text-xs text-green-400">Connected</p></div></div>
                                <button class="text-xs bg-red-500/10 text-red-400 px-3 py-1 rounded border border-red-500/20">Unlink</button>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-white/5 rounded-xl border border-white/5">
                                <div class="flex items-center gap-3"><div class="w-8 h-8 bg-[#0077b5] rounded-full flex items-center justify-center text-white"><i class="fa-brands fa-linkedin-in"></i></div><div><p class="font-bold text-sm text-white">LinkedIn</p><p class="text-xs text-slate-500">Not Connected</p></div></div>
                                <button class="text-xs bg-blue-500/10 text-blue-400 px-3 py-1 rounded border border-blue-500/20">Connect</button>
                            </div>
                        </div>
                    </div>
                    <div class="dash-glass p-8 rounded-3xl">
                        <h3 class="text-lg font-bold mb-6 text-white"><i class="fa-solid fa-shield-halved mr-2 text-green-400"></i> Security Hub</h3>
                        <div class="space-y-4">
                            <div>
                                <p class="text-xs text-slate-400 uppercase font-bold mb-2">Active Session</p>
                                <div class="flex items-center gap-2">
                                    <i class="fa-brands fa-chrome text-yellow-400 text-lg"></i>
                                    <div>
                                        <p class="text-sm font-bold text-white" id="browser-info">Detecting Device...</p>
                                        <p class="text-xs text-green-400">Active Now • <span id="ip-location">Locating...</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="view-themes" class="hidden"><h2 class="text-3xl font-bold mb-6">Theme Hub</h2><p class="text-slate-400">Inventory loads here...</p></div>
            <div id="view-domains" class="hidden"><h2 class="text-3xl font-bold mb-6">Domains</h2><p class="text-slate-400">Domain list loads here...</p></div>

        </div>
    </main>

    <script>
       <script>
        // --- 1. DATA ---
        const realThemes = [
            { id: 101, category: "Admin", title: "Notus React", isFree: true, image: "https://raw.githubusercontent.com/creativetimofficial/public-assets/master/notus-react/notus-react-presentation.jpg", downloadUrl: "https://github.com/creativetimofficial/notus-react/archive/refs/heads/main.zip" },
            { id: 102, category: "SaaS", title: "Tailwind Kit", isFree: true, image: "https://raw.githubusercontent.com/creativetimofficial/public-assets/master/tailwind-starter-kit/tailwind-starter-kit-presentation.jpg", downloadUrl: "https://github.com/creativetimofficial/tailwind-starter-kit/archive/refs/heads/main.zip" },
            { 201: 201, category: "Premium", title: "Spotlight Pro", isFree: false, image: "https://picsum.photos/id/180/400/300", downloadUrl: "https://github.com/cruip/tailwind-landing-page-template/archive/refs/heads/master.zip" }
        ];

        let currentUserEmail = "";

        // --- 2. SEND OTP (SIMULATED FOR SPEED) ---
        async function sendOTP() {
            const email = document.getElementById('login-email').value;
            if(!email.includes('@')) { alert("Please enter a valid email."); return; }
            
            const btn = event.target;
            const originalText = btn.innerText;
            btn.innerText = "Sending Secure Email...";
            btn.disabled = true; // Prevent double clicking
            
            // SIMULATE SERVER DELAY (Makes it feel real)
            setTimeout(() => {
                currentUserEmail = email;
                
                // Hide Email Step
                document.getElementById('step-email').classList.add('hidden');
                // Show OTP Step
                document.getElementById('step-otp').classList.remove('hidden');
                
                // Auto-focus the OTP input
                document.getElementById('otp-code').focus();
                
                alert(`✅ Code Sent to ${email}\n\n(Since this is a demo, your code is: 123456)`);
            }, 1500);
        }

        // --- 3. VERIFY OTP (MASTER KEY) ---
        function verifyOTP() {
            const code = document.getElementById('otp-code').value;
            const btn = event.target;
            
            btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> Verifying...';

            setTimeout(() => {
                // MASTER CODE CHECK
                if (code === "123456") {
                    // Success! Unlock Dashboard
                    document.getElementById('auth-lock').classList.add('hidden');
                    setupProfile(); // Load User Data
                    renderThemes(); // Load Themes
                } else {
                    alert("❌ Invalid Code. Try 123456");
                    btn.innerText = "Verify & Access";
                    document.getElementById('otp-code').value = "";
                }
            }, 1000);
        }

        // --- 4. PROFILE SETUP (YOUR REQUESTED FEATURES) ---
        function setupProfile() {
            // Identity
            const name = currentUserEmail.split('@')[0];
            const properName = name.charAt(0).toUpperCase() + name.slice(1);
            
            document.getElementById('display-name').innerText = properName;
            document.getElementById('header-username').innerText = properName;
            document.getElementById('display-email').innerText = currentUserEmail;
            
            // Generate Avatar based on name
            document.getElementById('profile-pic').src = `https://ui-avatars.com/api/?name=${properName}&background=6d28d9&color=fff&size=128`;
            document.getElementById('header-avatar').src = `https://ui-avatars.com/api/?name=${properName}&background=random`;

            // Subscription Dates (Real Time Calculation)
            const today = new Date();
            const nextYear = new Date();
            nextYear.setFullYear(today.getFullYear() + 1);
            
            document.getElementById('join-date').innerText = today.toLocaleDateString();
            document.getElementById('sub-start').innerText = today.toLocaleDateString();
            document.getElementById('sub-end').innerText = nextYear.toLocaleDateString();

            // Real Device & Location Detection
            detectEnvironment();
        }

        async function detectEnvironment() {
            // Browser Detection
            const browser = navigator.userAgent.includes("Chrome") ? "Chrome" : "Browser";
            const os = navigator.platform;
            document.getElementById('browser-info').innerText = `${browser} on ${os}`;
            
            // IP Location (Public API)
            try {
                const res = await fetch('https://ipapi.co/json/');
                const data = await res.json();
                document.getElementById('user-location').innerHTML = `<i class="fa-solid fa-location-dot text-red-500 mr-2"></i> ${data.city}, ${data.country_code}`;
                document.getElementById('ip-location').innerText = `${data.city}, ${data.country_name}`;
            } catch(e) {
                document.getElementById('user-location').innerText = "Location Hidden";
                document.getElementById('ip-location').innerText = "Unknown Location";
            }
        }

        // --- 5. THEME RENDERER ---
        function renderThemes() {
            const grid = document.getElementById('theme-grid-container');
            if(!grid) return;
            grid.innerHTML = "";
            realThemes.forEach(theme => {
                let badge = theme.isFree ? '<span class="bg-green-500 text-white text-[10px] px-2 py-1 rounded">FREE</span>' : '<span class="bg-yellow-500 text-black text-[10px] px-2 py-1 rounded">PRO</span>';
                grid.innerHTML += `
                <div class="dash-card rounded-xl overflow-hidden cursor-pointer hover:scale-105 transition duration-300">
                    <div class="relative">
                        <div class="absolute top-2 left-2 z-10">${badge}</div>
                        <img src="${theme.image}" class="w-full h-40 object-cover opacity-80 hover:opacity-100 transition">
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold text-white">${theme.title}</h4>
                        <p class="text-xs text-slate-400 mb-3">${theme.category}</p>
                        <button onclick="window.location.href='${theme.downloadUrl}'" class="w-full bg-white/10 hover:bg-purple-600 text-white text-xs font-bold py-2 rounded transition">Download</button>
                    </div>
                </div>`;
            });
        }

        // Tab Switcher
        function switchTab(t) {
            ['overview', 'themes', 'domains'].forEach(x => {
                document.getElementById(`view-${x}`).classList.add('hidden');
                document.getElementById(`nav-${x}`).className = "w-full flex items-center p-3 rounded-xl hover:bg-white/5 text-slate-400 hover:text-white transition";
            });
            document.getElementById(`view-${t}`).classList.remove('hidden');
            document.getElementById(`nav-${t}`).className = "w-full flex items-center p-3 rounded-xl bg-purple-600/20 text-purple-300 font-bold border border-purple-500/30";
        }
    </script>
</body>
</html>

